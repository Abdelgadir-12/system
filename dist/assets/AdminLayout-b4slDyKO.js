import{c as j,w as b,u as y,v as N,j as e,a0 as P,a1 as v,h as w,a2 as U,r as u,a3 as g,a4 as p,B as T,a5 as f,a6 as z}from"./index-v6CNqsEH.js";import{F as $}from"./file-text-je5NDkBW.js";import{P as B}from"./paw-print-BUegN35H.js";import{U as I,R}from"./users-C9HfqGWJ.js";import{S as F}from"./search-C8KJh43r.js";import{C as H}from"./clock-BzgeTgUr.js";import{U as E}from"./user-D7P0ucSc.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=j("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=j("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function O(){const{logout:d}=b(),m=y(),{toast:n}=N(),o=()=>{d(),n({title:"Logged out",description:"You have been successfully logged out."}),m("/login")},i=[{name:"Dashboard",href:"/admin",icon:M},{name:"Appointments",href:"/admin/appointments",icon:w},{name:"Booking Records",href:"/admin/booking-records",icon:$},{name:"Pets",href:"/admin/pets",icon:B},{name:"Users",href:"/admin/users",icon:I},{name:"Sign In",href:"/admin/signups",icon:q},{name:"Feedback",href:"/admin/feedback",icon:U}];return e.jsxs("aside",{className:"w-64 bg-pet-blue-dark text-white flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-9 w-9 rounded-full bg-white flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-pet-blue-dark text-lg",children:"AP"})}),e.jsx("span",{className:"font-display font-semibold text-xl",children:"Admin Panel"})]})}),e.jsx("nav",{className:"flex-1 p-4 space-y-1",children:i.map(r=>e.jsxs(P,{to:r.href,className:({isActive:x})=>`flex items-center gap-3 px-3 py-2 rounded-md transition-colors ${x?"bg-white/10 text-white":"hover:bg-white/5 text-white/80"}`,children:[e.jsx(r.icon,{size:18}),e.jsx("span",{children:r.name})]},r.name))}),e.jsx("div",{className:"p-4 border-t border-white/10",children:e.jsxs("button",{onClick:o,className:"flex items-center gap-3 px-3 py-2 rounded-md w-full hover:bg-white/5 text-white/80 transition-colors",children:[e.jsx(v,{size:18}),e.jsx("span",{children:"Logout"})]})})]})}function Q(){const[d,m]=u.useState(""),[n,o]=u.useState([]),{user:i,logout:r}=b(),x=y(),{toast:k}=N(),D=()=>{r(),k({title:"Logged out",description:"You have been successfully logged out."}),x("/login")},A=(s,a)=>s||a||"TBD",S=s=>{const a=new Date(s),c=new Date,t=new Date(c);return t.setDate(t.getDate()+1),a.toDateString()===c.toDateString()?"Today":a.toDateString()===t.toDateString()?"Tomorrow":a.toLocaleDateString()},h=()=>{try{const s=getAppointments(),a=new Date;a.setHours(0,0,0,0);const c=s.filter(t=>{const l=new Date(t.date);return l.setHours(0,0,0,0),l>=a&&t.status!=="Cancelled"}).sort((t,l)=>{const C=new Date(`${t.date} ${t.timeSlot||t.time||"00:00"}`),L=new Date(`${l.date} ${l.timeSlot||l.time||"00:00"}`);return C.getTime()-L.getTime()}).slice(0,5);o(c)}catch(s){console.error("Failed to fetch appointments:",s),o([])}};return u.useEffect(()=>{h();const s=setInterval(h,5*60*1e3);return()=>clearInterval(s)},[]),e.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Admin Dashboard"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(F,{size:16,className:"text-gray-400"})}),e.jsx("input",{type:"search",placeholder:"Search...",value:d,onChange:s=>m(s.target.value),className:"pl-10 pr-4 py-2 w-60 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-pet-blue-dark focus:border-transparent"})]}),e.jsxs(g,{children:[e.jsx(p,{asChild:!0,children:e.jsxs("button",{className:"p-2 rounded-full hover:bg-gray-100 relative",children:[e.jsx(T,{size:20}),n.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-medium",children:n.length>9?"9+":n.length})]})}),e.jsxs(f,{align:"end",className:"w-80 p-0",children:[e.jsxs("div",{className:"bg-pet-blue-dark text-white p-3 flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-medium",children:"Upcoming Appointments"})}),e.jsx("button",{onClick:h,className:"p-1 rounded-full hover:bg-blue-600 transition-colors",title:"Refresh appointments",children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"p-3 max-h-[300px] overflow-y-auto",children:n.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No upcoming appointments"}):n.map(s=>e.jsx("div",{className:"border-b border-gray-100 pb-2 mb-2 last:border-b-0",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(w,{className:"h-3 w-3 text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.service}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.ownerName,"'s pet ",s.petName]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(H,{className:"h-3 w-3 text-gray-400"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[S(s.date)," at ",A(s.timeSlot,s.time)]})]}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.status==="Pending"?"bg-yellow-100 text-yellow-800":s.status==="Confirmed"?"bg-blue-100 text-blue-800":s.status==="Completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})})]})]})},s.id))})]})]}),e.jsxs(g,{children:[e.jsx(p,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-2 p-2 rounded-full hover:bg-gray-100",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-pet-blue-dark flex items-center justify-center text-white",children:e.jsx(E,{size:16})}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:i==null?void 0:i.name})]})}),e.jsxs(f,{align:"end",className:"w-60 p-0",children:[e.jsx("div",{className:"bg-pet-blue-dark text-white p-3",children:e.jsx("h3",{className:"font-medium",children:"User Menu"})}),e.jsx("div",{className:"p-3",children:e.jsxs("button",{onClick:D,className:"flex items-center gap-2 w-full text-left rounded-md p-2 hover:bg-gray-100",children:[e.jsx(v,{size:16,className:"text-gray-700"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Logout"})]})})]})]})]})]})})}const Z=()=>e.jsxs("div",{className:"flex h-screen bg-gray-100",children:[e.jsx(O,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Q,{}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:e.jsx("div",{className:"container mx-auto",children:e.jsx(z,{})})})]})]});export{Z as default};
