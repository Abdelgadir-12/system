import{c as Zs,R as F,r as $,j as i,i as Gt,k as wr,l as Nr,D as $s,m as Us,n as zs,o as Ws,p as qs,q as Sr,d as Ct,h as is,s as Gs,t as pt,v as Hs,w as Ys,u as Cr,C as Vr,x as Tr,y as Ar,z as Er,a as Or,A as ze,E as We,F as qe,G as Ge,H as Z,T as Rr,N as Ir}from"./index-v6CNqsEH.js";import{I as Ie}from"./input-cEcEyZ5x.js";import{s as Pr}from"./appointmentDB-CWMaHyPF.js";import{P as Vt}from"./paw-print-BUegN35H.js";import{U as Js}from"./user-D7P0ucSc.js";import{C as ys}from"./clock-BzgeTgUr.js";import{C as Dr}from"./calendar-days-DC4l2CTL.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=Zs("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Zs("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var xt=s=>s.type==="checkbox",Ye=s=>s instanceof Date,oe=s=>s==null;const Xs=s=>typeof s=="object";var H=s=>!oe(s)&&!Array.isArray(s)&&Xs(s)&&!Ye(s),Qs=s=>H(s)&&s.target?xt(s.target)?s.target.checked:s.target.value:s,Mr=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,Ks=(s,e)=>s.has(Mr(e)),Br=s=>{const e=s.constructor&&s.constructor.prototype;return H(e)&&e.hasOwnProperty("isPrototypeOf")},vs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fe(s){let e;const t=Array.isArray(s);if(s instanceof Date)e=new Date(s);else if(s instanceof Set)e=new Set(s);else if(!(vs&&(s instanceof Blob||s instanceof FileList))&&(t||H(s)))if(e=t?[]:{},!t&&!Br(s))e=s;else for(const r in s)s.hasOwnProperty(r)&&(e[r]=fe(s[r]));else return s;return e}var Ht=s=>Array.isArray(s)?s.filter(Boolean):[],q=s=>s===void 0,v=(s,e,t)=>{if(!e||!H(s))return t;const r=Ht(e.split(/[,[\].]+?/)).reduce((a,n)=>oe(a)?a:a[n],s);return q(r)||r===s?q(s[e])?t:s[e]:r},ge=s=>typeof s=="boolean",xs=s=>/^\w*$/.test(s),er=s=>Ht(s.replace(/["|']|\]/g,"").split(/\.|\[/)),L=(s,e,t)=>{let r=-1;const a=xs(e)?[e]:er(e),n=a.length,l=n-1;for(;++r<n;){const o=a[r];let h=t;if(r!==l){const f=s[o];h=H(f)||Array.isArray(f)?f:isNaN(+a[r+1])?{}:[]}if(o==="__proto__")return;s[o]=h,s=s[o]}return s};const Tt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tr=F.createContext(null),Yt=()=>F.useContext(tr),Lr=s=>{const{children:e,...t}=s;return F.createElement(tr.Provider,{value:t},e)};var sr=(s,e,t,r=!0)=>{const a={defaultValues:e._defaultValues};for(const n in s)Object.defineProperty(a,n,{get:()=>{const l=n;return e._proxyFormState[l]!==xe.all&&(e._proxyFormState[l]=!r||xe.all),t&&(t[l]=!0),s[l]}});return a},he=s=>H(s)&&!Object.keys(s).length,rr=(s,e,t,r)=>{t(s);const{name:a,...n}=s;return he(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(l=>e[l]===(!r||xe.all))},ft=s=>Array.isArray(s)?s:[s],ar=(s,e,t)=>!s||!e||s===e||ft(s).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r)));function _s(s){const e=F.useRef(s);e.current=s,F.useEffect(()=>{const t=!s.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[s.disabled])}function Zr(s){const e=Yt(),{control:t=e.control,disabled:r,name:a,exact:n}=s||{},[l,o]=F.useState(t._formState),h=F.useRef(!0),f=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=F.useRef(a);return m.current=a,_s({disabled:r,next:w=>h.current&&ar(m.current,w.name,n)&&rr(w,f.current,t._updateFormState)&&o({...t._formState,...w}),subject:t._subjects.state}),F.useEffect(()=>(h.current=!0,f.current.isValid&&t._updateValid(!0),()=>{h.current=!1}),[t]),sr(l,t,f.current,!1)}var be=s=>typeof s=="string",nr=(s,e,t,r,a)=>be(s)?(r&&e.watch.add(s),v(t,s,a)):Array.isArray(s)?s.map(n=>(r&&e.watch.add(n),v(t,n))):(r&&(e.watchAll=!0),t);function $r(s){const e=Yt(),{control:t=e.control,name:r,defaultValue:a,disabled:n,exact:l}=s||{},o=F.useRef(r);o.current=r,_s({disabled:n,subject:t._subjects.values,next:m=>{ar(o.current,m.name,l)&&f(fe(nr(o.current,t._names,m.values||t._formValues,!1,a)))}});const[h,f]=F.useState(t._getWatch(r,a));return F.useEffect(()=>t._removeUnmounted()),h}function Ur(s){const e=Yt(),{name:t,disabled:r,control:a=e.control,shouldUnregister:n}=s,l=Ks(a._names.array,t),o=$r({control:a,name:t,defaultValue:v(a._formValues,t,v(a._defaultValues,t,s.defaultValue)),exact:!0}),h=Zr({control:a,name:t,exact:!0}),f=F.useRef(a.register(t,{...s.rules,value:o,...ge(s.disabled)?{disabled:s.disabled}:{}}));return F.useEffect(()=>{const m=a._options.shouldUnregister||n,w=(E,ee)=>{const Y=v(a._fields,E);Y&&Y._f&&(Y._f.mount=ee)};if(w(t,!0),m){const E=fe(v(a._options.defaultValues,t));L(a._defaultValues,t,E),q(v(a._formValues,t))&&L(a._formValues,t,E)}return()=>{(l?m&&!a._state.action:m)?a.unregister(t):w(t,!1)}},[t,a,l,n]),F.useEffect(()=>{v(a._fields,t)&&a._updateDisabledField({disabled:r,fields:a._fields,name:t,value:v(a._fields,t)._f.value})},[r,t,a]),{field:{name:t,value:o,...ge(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:F.useCallback(m=>f.current.onChange({target:{value:Qs(m),name:t},type:Tt.CHANGE}),[t]),onBlur:F.useCallback(()=>f.current.onBlur({target:{value:v(a._formValues,t),name:t},type:Tt.BLUR}),[t,a]),ref:F.useCallback(m=>{const w=v(a._fields,t);w&&m&&(w._f.ref={focus:()=>m.focus(),select:()=>m.select(),setCustomValidity:E=>m.setCustomValidity(E),reportValidity:()=>m.reportValidity()})},[a._fields,t])},formState:h,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!v(h.errors,t)},isDirty:{enumerable:!0,get:()=>!!v(h.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!v(h.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!v(h.validatingFields,t)},error:{enumerable:!0,get:()=>v(h.errors,t)}})}}const zr=s=>s.render(Ur(s));var ir=(s,e,t,r,a)=>e?{...t[s],types:{...t[s]&&t[s].types?t[s].types:{},[r]:a||!0}}:{},Cs=s=>({isOnSubmit:!s||s===xe.onSubmit,isOnBlur:s===xe.onBlur,isOnChange:s===xe.onChange,isOnAll:s===xe.all,isOnTouch:s===xe.onTouched}),Vs=(s,e,t)=>!t&&(e.watchAll||e.watch.has(s)||[...e.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const ht=(s,e,t,r)=>{for(const a of t||Object.keys(s)){const n=v(s,a);if(n){const{_f:l,...o}=n;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],a)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(ht(o,e))break}else if(H(o)&&ht(o,e))break}}};var Wr=(s,e,t)=>{const r=ft(v(s,t));return L(r,"root",e[t]),L(s,t,r),s},bs=s=>s.type==="file",Te=s=>typeof s=="function",At=s=>{if(!vs)return!1;const e=s?s.ownerDocument:0;return s instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},St=s=>be(s),js=s=>s.type==="radio",Et=s=>s instanceof RegExp;const Ts={value:!1,isValid:!1},As={value:!0,isValid:!0};var lr=s=>{if(Array.isArray(s)){if(s.length>1){const e=s.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!q(s[0].attributes.value)?q(s[0].value)||s[0].value===""?As:{value:s[0].value,isValid:!0}:As:Ts}return Ts};const Es={isValid:!1,value:null};var or=s=>Array.isArray(s)?s.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Es):Es;function Os(s,e,t="validate"){if(St(s)||Array.isArray(s)&&s.every(St)||ge(s)&&!s)return{type:t,message:St(s)?s:"",ref:e}}var Ke=s=>H(s)&&!Et(s)?s:{value:s,message:""},Rs=async(s,e,t,r,a)=>{const{ref:n,refs:l,required:o,maxLength:h,minLength:f,min:m,max:w,pattern:E,validate:ee,name:Y,valueAsNumber:nt,mount:de,disabled:_e}=s._f,D=v(e,Y);if(!de||_e)return{};const U=l?l[0]:n,ve=R=>{r&&U.reportValidity&&(U.setCustomValidity(ge(R)?"":R||""),U.reportValidity())},C={},we=js(n),Qe=xt(n),Ne=we||Qe,k=(nt||bs(n))&&q(n.value)&&q(D)||At(n)&&n.value===""||D===""||Array.isArray(D)&&!D.length,z=ir.bind(null,Y,t,C),Fe=(R,B,G,X=Se.maxLength,pe=Se.minLength)=>{const ue=R?B:G;C[Y]={type:R?X:pe,message:ue,ref:n,...z(R?X:pe,ue)}};if(a?!Array.isArray(D)||!D.length:o&&(!Ne&&(k||oe(D))||ge(D)&&!D||Qe&&!lr(l).isValid||we&&!or(l).isValid)){const{value:R,message:B}=St(o)?{value:!!o,message:o}:Ke(o);if(R&&(C[Y]={type:Se.required,message:B,ref:U,...z(Se.required,B)},!t))return ve(B),C}if(!k&&(!oe(m)||!oe(w))){let R,B;const G=Ke(w),X=Ke(m);if(!oe(D)&&!isNaN(D)){const pe=n.valueAsNumber||D&&+D;oe(G.value)||(R=pe>G.value),oe(X.value)||(B=pe<X.value)}else{const pe=n.valueAsDate||new Date(D),ue=Le=>new Date(new Date().toDateString()+" "+Le),Me=n.type=="time",Be=n.type=="week";be(G.value)&&D&&(R=Me?ue(D)>ue(G.value):Be?D>G.value:pe>new Date(G.value)),be(X.value)&&D&&(B=Me?ue(D)<ue(X.value):Be?D<X.value:pe<new Date(X.value))}if((R||B)&&(Fe(!!R,G.message,X.message,Se.max,Se.min),!t))return ve(C[Y].message),C}if((h||f)&&!k&&(be(D)||a&&Array.isArray(D))){const R=Ke(h),B=Ke(f),G=!oe(R.value)&&D.length>+R.value,X=!oe(B.value)&&D.length<+B.value;if((G||X)&&(Fe(G,R.message,B.message),!t))return ve(C[Y].message),C}if(E&&!k&&be(D)){const{value:R,message:B}=Ke(E);if(Et(R)&&!D.match(R)&&(C[Y]={type:Se.pattern,message:B,ref:n,...z(Se.pattern,B)},!t))return ve(B),C}if(ee){if(Te(ee)){const R=await ee(D,e),B=Os(R,U);if(B&&(C[Y]={...B,...z(Se.validate,B.message)},!t))return ve(B.message),C}else if(H(ee)){let R={};for(const B in ee){if(!he(R)&&!t)break;const G=Os(await ee[B](D,e),U,B);G&&(R={...G,...z(B,G.message)},ve(G.message),t&&(C[Y]=R))}if(!he(R)&&(C[Y]={ref:U,...R},!t))return C}}return ve(!0),C};function qr(s,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)s=q(s)?r++:s[e[r++]];return s}function Gr(s){for(const e in s)if(s.hasOwnProperty(e)&&!q(s[e]))return!1;return!0}function J(s,e){const t=Array.isArray(e)?e:xs(e)?[e]:er(e),r=t.length===1?s:qr(s,t),a=t.length-1,n=t[a];return r&&delete r[n],a!==0&&(H(r)&&he(r)||Array.isArray(r)&&Gr(r))&&J(s,t.slice(0,-1)),s}var ss=()=>{let s=[];return{get observers(){return s},next:a=>{for(const n of s)n.next&&n.next(a)},subscribe:a=>(s.push(a),{unsubscribe:()=>{s=s.filter(n=>n!==a)}}),unsubscribe:()=>{s=[]}}},ls=s=>oe(s)||!Xs(s);function Pe(s,e){if(ls(s)||ls(e))return s===e;if(Ye(s)&&Ye(e))return s.getTime()===e.getTime();const t=Object.keys(s),r=Object.keys(e);if(t.length!==r.length)return!1;for(const a of t){const n=s[a];if(!r.includes(a))return!1;if(a!=="ref"){const l=e[a];if(Ye(n)&&Ye(l)||H(n)&&H(l)||Array.isArray(n)&&Array.isArray(l)?!Pe(n,l):n!==l)return!1}}return!0}var cr=s=>s.type==="select-multiple",Hr=s=>js(s)||xt(s),rs=s=>At(s)&&s.isConnected,dr=s=>{for(const e in s)if(Te(s[e]))return!0;return!1};function Ot(s,e={}){const t=Array.isArray(s);if(H(s)||t)for(const r in s)Array.isArray(s[r])||H(s[r])&&!dr(s[r])?(e[r]=Array.isArray(s[r])?[]:{},Ot(s[r],e[r])):oe(s[r])||(e[r]=!0);return e}function ur(s,e,t){const r=Array.isArray(s);if(H(s)||r)for(const a in s)Array.isArray(s[a])||H(s[a])&&!dr(s[a])?q(e)||ls(t[a])?t[a]=Array.isArray(s[a])?Ot(s[a],[]):{...Ot(s[a])}:ur(s[a],oe(e)?{}:e[a],t[a]):t[a]=!Pe(s[a],e[a]);return t}var it=(s,e)=>ur(s,e,Ot(e)),fr=(s,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>q(s)?s:e?s===""?NaN:s&&+s:t&&be(s)?new Date(s):r?r(s):s;function as(s){const e=s.ref;if(!(s.refs?s.refs.every(t=>t.disabled):e.disabled))return bs(e)?e.files:js(e)?or(s.refs).value:cr(e)?[...e.selectedOptions].map(({value:t})=>t):xt(e)?lr(s.refs).value:fr(q(e.value)?s.ref.value:e.value,s)}var Yr=(s,e,t,r)=>{const a={};for(const n of s){const l=v(e,n);l&&L(a,n,l._f)}return{criteriaMode:t,names:[...s],fields:a,shouldUseNativeValidation:r}},lt=s=>q(s)?s:Et(s)?s.source:H(s)?Et(s.value)?s.value.source:s.value:s;const Is="AsyncFunction";var Jr=s=>(!s||!s.validate)&&!!(Te(s.validate)&&s.validate.constructor.name===Is||H(s.validate)&&Object.values(s.validate).find(e=>e.constructor.name===Is)),Xr=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate);function Ps(s,e,t){const r=v(s,t);if(r||xs(t))return{error:r,name:t};const a=t.split(".");for(;a.length;){const n=a.join("."),l=v(e,n),o=v(s,n);if(l&&!Array.isArray(l)&&t!==n)return{name:t};if(o&&o.type)return{name:n,error:o};a.pop()}return{name:t}}var Qr=(s,e,t,r,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||s):(t?r.isOnBlur:a.isOnBlur)?!s:(t?r.isOnChange:a.isOnChange)?s:!0,Kr=(s,e)=>!Ht(v(s,e)).length&&J(s,e);const ea={mode:xe.onSubmit,reValidateMode:xe.onChange,shouldFocusError:!0};function ta(s={}){let e={...ea,...s},t={submitCount:0,isDirty:!1,isLoading:Te(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},a=H(e.defaultValues)||H(e.values)?fe(e.defaultValues||e.values)||{}:{},n=e.shouldUnregister?{}:fe(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={values:ss(),array:ss(),state:ss()},E=Cs(e.mode),ee=Cs(e.reValidateMode),Y=e.criteriaMode===xe.all,nt=c=>d=>{clearTimeout(f),f=setTimeout(c,d)},de=async c=>{if(!s.disabled&&(m.isValid||c)){const d=e.resolver?he((await Ne()).errors):await z(r,!0);d!==t.isValid&&w.state.next({isValid:d})}},_e=(c,d)=>{!s.disabled&&(m.isValidating||m.validatingFields)&&((c||Array.from(o.mount)).forEach(u=>{u&&(d?L(t.validatingFields,u,d):J(t.validatingFields,u))}),w.state.next({validatingFields:t.validatingFields,isValidating:!he(t.validatingFields)}))},D=(c,d=[],u,b,x=!0,y=!0)=>{if(b&&u&&!s.disabled){if(l.action=!0,y&&Array.isArray(v(r,c))){const S=u(v(r,c),b.argA,b.argB);x&&L(r,c,S)}if(y&&Array.isArray(v(t.errors,c))){const S=u(v(t.errors,c),b.argA,b.argB);x&&L(t.errors,c,S),Kr(t.errors,c)}if(m.touchedFields&&y&&Array.isArray(v(t.touchedFields,c))){const S=u(v(t.touchedFields,c),b.argA,b.argB);x&&L(t.touchedFields,c,S)}m.dirtyFields&&(t.dirtyFields=it(a,n)),w.state.next({name:c,isDirty:R(c,d),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else L(n,c,d)},U=(c,d)=>{L(t.errors,c,d),w.state.next({errors:t.errors})},ve=c=>{t.errors=c,w.state.next({errors:t.errors,isValid:!1})},C=(c,d,u,b)=>{const x=v(r,c);if(x){const y=v(n,c,q(u)?v(a,c):u);q(y)||b&&b.defaultChecked||d?L(n,c,d?y:as(x._f)):X(c,y),l.mount&&de()}},we=(c,d,u,b,x)=>{let y=!1,S=!1;const I={name:c};if(!s.disabled){const Q=!!(v(r,c)&&v(r,c)._f&&v(r,c)._f.disabled);if(!u||b){m.isDirty&&(S=t.isDirty,t.isDirty=I.isDirty=R(),y=S!==I.isDirty);const K=Q||Pe(v(a,c),d);S=!!(!Q&&v(t.dirtyFields,c)),K||Q?J(t.dirtyFields,c):L(t.dirtyFields,c,!0),I.dirtyFields=t.dirtyFields,y=y||m.dirtyFields&&S!==!K}if(u){const K=v(t.touchedFields,c);K||(L(t.touchedFields,c,u),I.touchedFields=t.touchedFields,y=y||m.touchedFields&&K!==u)}y&&x&&w.state.next(I)}return y?I:{}},Qe=(c,d,u,b)=>{const x=v(t.errors,c),y=m.isValid&&ge(d)&&t.isValid!==d;if(s.delayError&&u?(h=nt(()=>U(c,u)),h(s.delayError)):(clearTimeout(f),h=null,u?L(t.errors,c,u):J(t.errors,c)),(u?!Pe(x,u):x)||!he(b)||y){const S={...b,...y&&ge(d)?{isValid:d}:{},errors:t.errors,name:c};t={...t,...S},w.state.next(S)}},Ne=async c=>{_e(c,!0);const d=await e.resolver(n,e.context,Yr(c||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _e(c),d},k=async c=>{const{errors:d}=await Ne(c);if(c)for(const u of c){const b=v(d,u);b?L(t.errors,u,b):J(t.errors,u)}else t.errors=d;return d},z=async(c,d,u={valid:!0})=>{for(const b in c){const x=c[b];if(x){const{_f:y,...S}=x;if(y){const I=o.array.has(y.name),Q=x._f&&Jr(x._f);Q&&m.validatingFields&&_e([b],!0);const K=await Rs(x,n,Y,e.shouldUseNativeValidation&&!d,I);if(Q&&m.validatingFields&&_e([b]),K[y.name]&&(u.valid=!1,d))break;!d&&(v(K,y.name)?I?Wr(t.errors,K,y.name):L(t.errors,y.name,K[y.name]):J(t.errors,y.name))}!he(S)&&await z(S,d,u)}}return u.valid},Fe=()=>{for(const c of o.unMount){const d=v(r,c);d&&(d._f.refs?d._f.refs.every(u=>!rs(u)):!rs(d._f.ref))&&p(c)}o.unMount=new Set},R=(c,d)=>!s.disabled&&(c&&d&&L(n,c,d),!Pe(_t(),a)),B=(c,d,u)=>nr(c,o,{...l.mount?n:q(d)?a:be(c)?{[c]:d}:d},u,d),G=c=>Ht(v(l.mount?n:a,c,s.shouldUnregister?v(a,c,[]):[])),X=(c,d,u={})=>{const b=v(r,c);let x=d;if(b){const y=b._f;y&&(!y.disabled&&L(n,c,fr(d,y)),x=At(y.ref)&&oe(d)?"":d,cr(y.ref)?[...y.ref.options].forEach(S=>S.selected=x.includes(S.value)):y.refs?xt(y.ref)?y.refs.length>1?y.refs.forEach(S=>(!S.defaultChecked||!S.disabled)&&(S.checked=Array.isArray(x)?!!x.find(I=>I===S.value):x===S.value)):y.refs[0]&&(y.refs[0].checked=!!x):y.refs.forEach(S=>S.checked=S.value===x):bs(y.ref)?y.ref.value="":(y.ref.value=x,y.ref.type||w.values.next({name:c,values:{...n}})))}(u.shouldDirty||u.shouldTouch)&&we(c,x,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&Le(c)},pe=(c,d,u)=>{for(const b in d){const x=d[b],y=`${c}.${b}`,S=v(r,y);(o.array.has(c)||H(x)||S&&!S._f)&&!Ye(x)?pe(y,x,u):X(y,x,u)}},ue=(c,d,u={})=>{const b=v(r,c),x=o.array.has(c),y=fe(d);L(n,c,y),x?(w.array.next({name:c,values:{...n}}),(m.isDirty||m.dirtyFields)&&u.shouldDirty&&w.state.next({name:c,dirtyFields:it(a,n),isDirty:R(c,y)})):b&&!b._f&&!oe(y)?pe(c,y,u):X(c,y,u),Vs(c,o)&&w.state.next({...t}),w.values.next({name:l.mount?c:void 0,values:{...n}})},Me=async c=>{l.mount=!0;const d=c.target;let u=d.name,b=!0;const x=v(r,u),y=()=>d.type?as(x._f):Qs(c),S=I=>{b=Number.isNaN(I)||Ye(I)&&isNaN(I.getTime())||Pe(I,v(n,u,I))};if(x){let I,Q;const K=y(),Ue=c.type===Tt.BLUR||c.type===Tt.FOCUS_OUT,br=!Xr(x._f)&&!e.resolver&&!v(t.errors,u)&&!x._f.deps||Qr(Ue,v(t.touchedFields,u),t.isSubmitted,ee,E),es=Vs(u,o,Ue);L(n,u,K),Ue?(x._f.onBlur&&x._f.onBlur(c),h&&h(0)):x._f.onChange&&x._f.onChange(c);const ts=we(u,K,Ue,!1),jr=!he(ts)||es;if(!Ue&&w.values.next({name:u,type:c.type,values:{...n}}),br)return m.isValid&&(s.mode==="onBlur"?Ue&&de():de()),jr&&w.state.next({name:u,...es?{}:ts});if(!Ue&&es&&w.state.next({...t}),e.resolver){const{errors:Ns}=await Ne([u]);if(S(K),b){const kr=Ps(t.errors,r,u),Ss=Ps(Ns,r,kr.name||u);I=Ss.error,u=Ss.name,Q=he(Ns)}}else _e([u],!0),I=(await Rs(x,n,Y,e.shouldUseNativeValidation))[u],_e([u]),S(K),b&&(I?Q=!1:m.isValid&&(Q=await z(r,!0)));b&&(x._f.deps&&Le(x._f.deps),Qe(u,Q,I,ts))}},Be=(c,d)=>{if(v(t.errors,d)&&c.focus)return c.focus(),1},Le=async(c,d={})=>{let u,b;const x=ft(c);if(e.resolver){const y=await k(q(c)?c:x);u=he(y),b=c?!x.some(S=>v(y,S)):u}else c?(b=(await Promise.all(x.map(async y=>{const S=v(r,y);return await z(S&&S._f?{[y]:S}:S)}))).every(Boolean),!(!b&&!t.isValid)&&de()):b=u=await z(r);return w.state.next({...!be(c)||m.isValid&&u!==t.isValid?{}:{name:c},...e.resolver||!c?{isValid:u}:{},errors:t.errors}),d.shouldFocus&&!b&&ht(r,Be,c?x:o.mount),b},_t=c=>{const d={...l.mount?n:a};return q(c)?d:be(c)?v(d,c):c.map(u=>v(d,u))},bt=(c,d)=>({invalid:!!v((d||t).errors,c),isDirty:!!v((d||t).dirtyFields,c),error:v((d||t).errors,c),isValidating:!!v(t.validatingFields,c),isTouched:!!v((d||t).touchedFields,c)}),Qt=c=>{c&&ft(c).forEach(d=>J(t.errors,d)),w.state.next({errors:c?t.errors:{}})},jt=(c,d,u)=>{const b=(v(r,c,{_f:{}})._f||{}).ref,x=v(t.errors,c)||{},{ref:y,message:S,type:I,...Q}=x;L(t.errors,c,{...Q,...d,ref:b}),w.state.next({name:c,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&b&&b.focus&&b.focus()},kt=(c,d)=>Te(c)?w.values.subscribe({next:u=>c(B(void 0,d),u)}):B(c,d,!0),p=(c,d={})=>{for(const u of c?ft(c):o.mount)o.mount.delete(u),o.array.delete(u),d.keepValue||(J(r,u),J(n,u)),!d.keepError&&J(t.errors,u),!d.keepDirty&&J(t.dirtyFields,u),!d.keepTouched&&J(t.touchedFields,u),!d.keepIsValidating&&J(t.validatingFields,u),!e.shouldUnregister&&!d.keepDefaultValue&&J(a,u);w.values.next({values:{...n}}),w.state.next({...t,...d.keepDirty?{isDirty:R()}:{}}),!d.keepIsValid&&de()},O=({disabled:c,name:d,field:u,fields:b,value:x})=>{if(ge(c)&&l.mount||c){const y=c?void 0:q(x)?as(u?u._f:v(b,d)._f):x;L(n,d,y),we(d,y,!1,!1,!0)}},ne=(c,d={})=>{let u=v(r,c);const b=ge(d.disabled)||ge(s.disabled);return L(r,c,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:c}},name:c,mount:!0,...d}}),o.mount.add(c),u?O({field:u,disabled:ge(d.disabled)?d.disabled:s.disabled,name:c,value:d.value}):C(c,!0,d.value),{...b?{disabled:d.disabled||s.disabled}:{},...e.progressive?{required:!!d.required,min:lt(d.min),max:lt(d.max),minLength:lt(d.minLength),maxLength:lt(d.maxLength),pattern:lt(d.pattern)}:{},name:c,onChange:Me,onBlur:Me,ref:x=>{if(x){ne(c,d),u=v(r,c);const y=q(x.value)&&x.querySelectorAll&&x.querySelectorAll("input,select,textarea")[0]||x,S=Hr(y),I=u._f.refs||[];if(S?I.find(Q=>Q===y):y===u._f.ref)return;L(r,c,{_f:{...u._f,...S?{refs:[...I.filter(rs),y,...Array.isArray(v(a,c))?[{}]:[]],ref:{type:y.type,name:c}}:{ref:y}}}),C(c,!1,void 0,y)}else u=v(r,c,{}),u._f&&(u._f.mount=!1),(e.shouldUnregister||d.shouldUnregister)&&!(Ks(o.array,c)&&l.action)&&o.unMount.add(c)}}},Ze=()=>e.shouldFocusError&&ht(r,Be,o.mount),$e=c=>{ge(c)&&(w.state.next({disabled:c}),ht(r,(d,u)=>{const b=v(r,u);b&&(d.disabled=b._f.disabled||c,Array.isArray(b._f.refs)&&b._f.refs.forEach(x=>{x.disabled=b._f.disabled||c}))},0,!1))},Kt=(c,d)=>async u=>{let b;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let x=fe(n);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:y,values:S}=await Ne();t.errors=y,x=S}else await z(r);if(J(t.errors,"root"),he(t.errors)){w.state.next({errors:{}});try{await c(x,u)}catch(y){b=y}}else d&&await d({...t.errors},u),Ze(),setTimeout(Ze);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:he(t.errors)&&!b,submitCount:t.submitCount+1,errors:t.errors}),b)throw b},wt=(c,d={})=>{v(r,c)&&(q(d.defaultValue)?ue(c,fe(v(a,c))):(ue(c,d.defaultValue),L(a,c,fe(d.defaultValue))),d.keepTouched||J(t.touchedFields,c),d.keepDirty||(J(t.dirtyFields,c),t.isDirty=d.defaultValue?R(c,fe(v(a,c))):R()),d.keepError||(J(t.errors,c),m.isValid&&de()),w.state.next({...t}))},Nt=(c,d={})=>{const u=c?fe(c):a,b=fe(u),x=he(c),y=x?a:b;if(d.keepDefaultValues||(a=u),!d.keepValues){if(d.keepDirtyValues){const S=new Set([...o.mount,...Object.keys(it(a,n))]);for(const I of Array.from(S))v(t.dirtyFields,I)?L(y,I,v(n,I)):ue(I,v(y,I))}else{if(vs&&q(c))for(const S of o.mount){const I=v(r,S);if(I&&I._f){const Q=Array.isArray(I._f.refs)?I._f.refs[0]:I._f.ref;if(At(Q)){const K=Q.closest("form");if(K){K.reset();break}}}}r={}}n=s.shouldUnregister?d.keepDefaultValues?fe(a):{}:fe(y),w.array.next({values:{...y}}),w.values.next({values:{...y}})}o={mount:d.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!d.keepIsValid||!!d.keepDirtyValues,l.watch=!!s.shouldUnregister,w.state.next({submitCount:d.keepSubmitCount?t.submitCount:0,isDirty:x?!1:d.keepDirty?t.isDirty:!!(d.keepDefaultValues&&!Pe(c,a)),isSubmitted:d.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:x?{}:d.keepDirtyValues?d.keepDefaultValues&&n?it(a,n):t.dirtyFields:d.keepDefaultValues&&c?it(a,c):d.keepDirty?t.dirtyFields:{},touchedFields:d.keepTouched?t.touchedFields:{},errors:d.keepErrors?t.errors:{},isSubmitSuccessful:d.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ws=(c,d)=>Nt(Te(c)?c(n):c,d);return{control:{register:ne,unregister:p,getFieldState:bt,handleSubmit:Kt,setError:jt,_executeSchema:Ne,_getWatch:B,_getDirty:R,_updateValid:de,_removeUnmounted:Fe,_updateFieldArray:D,_updateDisabledField:O,_getFieldArray:G,_reset:Nt,_resetDefaultValues:()=>Te(e.defaultValues)&&e.defaultValues().then(c=>{ws(c,e.resetOptions),w.state.next({isLoading:!1})}),_updateFormState:c=>{t={...t,...c}},_disableForm:$e,_subjects:w,_proxyFormState:m,_setErrors:ve,get _fields(){return r},get _formValues(){return n},get _state(){return l},set _state(c){l=c},get _defaultValues(){return a},get _names(){return o},set _names(c){o=c},get _formState(){return t},set _formState(c){t=c},get _options(){return e},set _options(c){e={...e,...c}}},trigger:Le,register:ne,handleSubmit:Kt,watch:kt,setValue:ue,getValues:_t,reset:ws,resetField:wt,clearErrors:Qt,unregister:p,setError:jt,setFocus:(c,d={})=>{const u=v(r,c),b=u&&u._f;if(b){const x=b.refs?b.refs[0]:b.ref;x.focus&&(x.focus(),d.shouldSelect&&x.select())}},getFieldState:bt}}function sa(s={}){const e=F.useRef(),t=F.useRef(),[r,a]=F.useState({isDirty:!1,isValidating:!1,isLoading:Te(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,defaultValues:Te(s.defaultValues)?void 0:s.defaultValues});e.current||(e.current={...ta(s),formState:r});const n=e.current.control;return n._options=s,_s({subject:n._subjects.state,next:l=>{rr(l,n._proxyFormState,n._updateFormState,!0)&&a({...n._formState})}}),F.useEffect(()=>n._disableForm(s.disabled),[n,s.disabled]),F.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==r.isDirty&&n._subjects.state.next({isDirty:l})}},[n,r.isDirty]),F.useEffect(()=>{s.values&&!Pe(s.values,t.current)?(n._reset(s.values,n._options.resetOptions),t.current=s.values,a(l=>({...l}))):n._resetDefaultValues()},[s.values,n]),F.useEffect(()=>{s.errors&&n._setErrors(s.errors)},[s.errors,n]),F.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),F.useEffect(()=>{s.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[s.shouldUnregister,n]),F.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=sr(r,n),e.current}const Ds=(s,e,t)=>{if(s&&"reportValidity"in s){const r=v(t,e);s.setCustomValidity(r&&r.message||""),s.reportValidity()}},hr=(s,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?Ds(r.ref,t,s):r.refs&&r.refs.forEach(a=>Ds(a,t,s))}},ra=(s,e)=>{e.shouldUseNativeValidation&&hr(s,e);const t={};for(const r in s){const a=v(e.fields,r),n=Object.assign(s[r]||{},{ref:a&&a.ref});if(aa(e.names||Object.keys(s),r)){const l=Object.assign({},v(t,r));L(l,"root",n),L(t,r,l)}else L(t,r,n)}return t},aa=(s,e)=>s.some(t=>t.startsWith(e+"."));var na=function(s,e){for(var t={};s.length;){var r=s[0],a=r.code,n=r.message,l=r.path.join(".");if(!t[l])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];t[l]={message:o.message,type:o.code}}else t[l]={message:n,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(m){return m.errors.forEach(function(w){return s.push(w)})}),e){var h=t[l].types,f=h&&h[r.code];t[l]=ir(l,e,t,a,f?[].concat(f,r.message):r.message)}s.shift()}return t},ia=function(s,e,t){return t===void 0&&(t={}),function(r,a,n){try{return Promise.resolve(function(l,o){try{var h=Promise.resolve(s[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(f){return n.shouldUseNativeValidation&&hr({},n),{errors:{},values:t.raw?r:f}})}catch(f){return o(f)}return h&&h.then?h.then(void 0,o):h}(0,function(l){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(l))return{values:{},errors:ra(na(l.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}}},M;(function(s){s.assertEqual=a=>a;function e(a){}s.assertIs=e;function t(a){throw new Error}s.assertNever=t,s.arrayToEnum=a=>{const n={};for(const l of a)n[l]=l;return n},s.getValidEnumValues=a=>{const n=s.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of n)l[o]=a[o];return s.objectValues(l)},s.objectValues=a=>s.objectKeys(a).map(function(n){return a[n]}),s.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const n=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.push(l);return n},s.find=(a,n)=>{for(const l of a)if(n(l))return l},s.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,n=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(n)}s.joinValues=r,s.jsonStringifyReplacer=(a,n)=>typeof n=="bigint"?n.toString():n})(M||(M={}));var Fs;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(Fs||(Fs={}));const j=M.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),He=s=>{switch(typeof s){case"undefined":return j.undefined;case"string":return j.string;case"number":return isNaN(s)?j.nan:j.number;case"boolean":return j.boolean;case"function":return j.function;case"bigint":return j.bigint;case"symbol":return j.symbol;case"object":return Array.isArray(s)?j.array:s===null?j.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?j.promise:typeof Map<"u"&&s instanceof Map?j.map:typeof Set<"u"&&s instanceof Set?j.set:typeof Date<"u"&&s instanceof Date?j.date:j.object;default:return j.unknown}},g=M.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ye extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(n){return n.message},r={_errors:[]},a=n=>{for(const l of n.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)r._errors.push(t(l));else{let o=r,h=0;for(;h<l.path.length;){const f=l.path[h];h===l.path.length-1?(o[f]=o[f]||{_errors:[]},o[f]._errors.push(t(l))):o[f]=o[f]||{_errors:[]},o=o[f],h++}}};return a(this),r}static assert(e){if(!(e instanceof ye))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,M.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}ye.create=s=>new ye(s);const gt=(s,e)=>{let t;switch(s.code){case g.invalid_type:s.received===j.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case g.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,M.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:t=`Unrecognized key(s) in object: ${M.joinValues(s.keys,", ")}`;break;case g.invalid_union:t="Invalid input";break;case g.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${M.joinValues(s.options)}`;break;case g.invalid_enum_value:t=`Invalid enum value. Expected ${M.joinValues(s.options)}, received '${s.received}'`;break;case g.invalid_arguments:t="Invalid function arguments";break;case g.invalid_return_type:t="Invalid function return type";break;case g.invalid_date:t="Invalid date";break;case g.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:M.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case g.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case g.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case g.custom:t="Invalid input";break;case g.invalid_intersection_types:t="Intersection results could not be merged";break;case g.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case g.not_finite:t="Number must be finite";break;default:t=e.defaultError,M.assertNever(s)}return{message:t}};let la=gt;function os(){return la}const cs=s=>{const{data:e,path:t,errorMaps:r,issueData:a}=s,n=[...t,...a.path||[]],l={...a,path:n};if(a.message!==void 0)return{...a,path:n,message:a.message};let o="";const h=r.filter(f=>!!f).slice().reverse();for(const f of h)o=f(l,{data:e,defaultError:o}).message;return{...a,path:n,message:o}};function _(s,e){const t=os(),r=cs({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===gt?void 0:gt].filter(a=>!!a)});s.common.issues.push(r)}class ce{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const a of t){if(a.status==="aborted")return T;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const a of t){const n=await a.key,l=await a.value;r.push({key:n,value:l})}return ce.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const a of t){const{key:n,value:l}=a;if(n.status==="aborted"||l.status==="aborted")return T;n.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(r[n.value]=l.value)}return{status:e.value,value:r}}}const T=Object.freeze({status:"aborted"}),ot=s=>({status:"dirty",value:s}),me=s=>({status:"valid",value:s}),Ms=s=>s.status==="aborted",Bs=s=>s.status==="dirty",Rt=s=>s.status==="valid",It=s=>typeof Promise<"u"&&s instanceof Promise;function Pt(s,e,t,r){if(typeof e=="function"?s!==e||!r:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(s)}function mr(s,e,t,r,a){if(typeof e=="function"?s!==e||!a:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(s,t),t}var N;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(N||(N={}));var ct,dt;class ke{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ls=(s,e)=>{if(Rt(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ye(s.common.issues);return this._error=t,this._error}}};function A(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:a}=s;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(l,o)=>{var h,f;const{message:m}=s;return l.code==="invalid_enum_value"?{message:m??o.defaultError}:typeof o.data>"u"?{message:(h=m??r)!==null&&h!==void 0?h:o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:(f=m??t)!==null&&f!==void 0?f:o.defaultError}},description:a}}class P{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return He(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:He(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ce,ctx:{common:e.parent.common,data:e.data,parsedType:He(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(It(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const a={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:He(e)},n=this._parseSync({data:e,path:a.path,parent:a});return Ls(a,n)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:He(e)},a=this._parse({data:e,path:r.path,parent:r}),n=await(It(a)?a:Promise.resolve(a));return Ls(r,n)}refine(e,t){const r=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,n)=>{const l=e(a),o=()=>n.addIssue({code:g.custom,...r(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(h=>h?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new Re({schema:this,typeName:V.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ee.create(this,this._def)}nullable(){return Xe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return je.create(this,this._def)}promise(){return vt.create(this,this._def)}or(e){return Mt.create([this,e],this._def)}and(e){return Bt.create(this,e,this._def)}transform(e){return new Re({...A(this._def),schema:this,typeName:V.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new zt({...A(this._def),innerType:this,defaultValue:t,typeName:V.ZodDefault})}brand(){return new vr({typeName:V.ZodBranded,type:this,...A(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Wt({...A(this._def),innerType:this,catchValue:t,typeName:V.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Jt.create(this,e)}readonly(){return qt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const oa=/^c[^\s-]{8,}$/i,ca=/^[0-9a-z]+$/,da=/^[0-9A-HJKMNP-TV-Z]{26}$/,ua=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fa=/^[a-z0-9_-]{21}$/i,ha=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ma=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pa="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ns;const ga=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ya=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,va=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xa=new RegExp(`^${pr}$`);function gr(s){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`),e}function _a(s){return new RegExp(`^${gr(s)}$`)}function ba(s){let e=`${pr}T${gr(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ja(s,e){return!!((e==="v4"||!e)&&ga.test(s)||(e==="v6"||!e)&&ya.test(s))}class Ae extends P{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==j.string){const n=this._getOrReturnCtx(e);return _(n,{code:g.invalid_type,expected:j.string,received:n.parsedType}),T}const r=new ce;let a;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(a=this._getOrReturnCtx(e,a),_(a,{code:g.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")e.data.length>n.value&&(a=this._getOrReturnCtx(e,a),_(a,{code:g.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){const l=e.data.length>n.value,o=e.data.length<n.value;(l||o)&&(a=this._getOrReturnCtx(e,a),l?_(a,{code:g.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&_(a,{code:g.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")ma.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"email",code:g.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")ns||(ns=new RegExp(pa,"u")),ns.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"emoji",code:g.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")ua.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"uuid",code:g.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")fa.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"nanoid",code:g.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")oa.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"cuid",code:g.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")ca.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"cuid2",code:g.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")da.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"ulid",code:g.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),_(a,{validation:"url",code:g.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"regex",code:g.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?ba(n).test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?xa.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?_a(n).test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?ha.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"duration",code:g.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?ja(e.data,n.version)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"ip",code:g.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?va.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"base64",code:g.invalid_string,message:n.message}),r.dirty()):M.assertNever(n);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(a=>e.test(a),{validation:t,code:g.invalid_string,...N.errToObj(r)})}_addCheck(e){return new Ae({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...N.errToObj(e)})}url(e){return this._addCheck({kind:"url",...N.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...N.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...N.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...N.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...N.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...N.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...N.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...N.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...N.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...N.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...N.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...N.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...N.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...N.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...N.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...N.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...N.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...N.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...N.errToObj(t)})}nonempty(e){return this.min(1,N.errToObj(e))}trim(){return new Ae({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ae({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ae({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ae.create=s=>{var e;return new Ae({checks:[],typeName:V.ZodString,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...A(s)})};function ka(s,e){const t=(s.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,n=parseInt(s.toFixed(a).replace(".","")),l=parseInt(e.toFixed(a).replace(".",""));return n%l/Math.pow(10,a)}class st extends P{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==j.number){const n=this._getOrReturnCtx(e);return _(n,{code:g.invalid_type,expected:j.number,received:n.parsedType}),T}let r;const a=new ce;for(const n of this._def.checks)n.kind==="int"?M.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{code:g.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?ka(e.data,n.value)!==0&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{code:g.not_finite,message:n.message}),a.dirty()):M.assertNever(n);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,N.toString(t))}gt(e,t){return this.setLimit("min",e,!1,N.toString(t))}lte(e,t){return this.setLimit("max",e,!0,N.toString(t))}lt(e,t){return this.setLimit("max",e,!1,N.toString(t))}setLimit(e,t,r,a){return new st({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:N.toString(a)}]})}_addCheck(e){return new st({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:N.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:N.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&M.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}st.create=s=>new st({checks:[],typeName:V.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...A(s)});class rt extends P{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==j.bigint){const n=this._getOrReturnCtx(e);return _(n,{code:g.invalid_type,expected:j.bigint,received:n.parsedType}),T}let r;const a=new ce;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):M.assertNever(n);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,N.toString(t))}gt(e,t){return this.setLimit("min",e,!1,N.toString(t))}lte(e,t){return this.setLimit("max",e,!0,N.toString(t))}lt(e,t){return this.setLimit("max",e,!1,N.toString(t))}setLimit(e,t,r,a){return new rt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:N.toString(a)}]})}_addCheck(e){return new rt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}rt.create=s=>{var e;return new rt({checks:[],typeName:V.ZodBigInt,coerce:(e=s==null?void 0:s.coerce)!==null&&e!==void 0?e:!1,...A(s)})};class ds extends P{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==j.boolean){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:j.boolean,received:r.parsedType}),T}return me(e.data)}}ds.create=s=>new ds({typeName:V.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...A(s)});class yt extends P{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==j.date){const n=this._getOrReturnCtx(e);return _(n,{code:g.invalid_type,expected:j.date,received:n.parsedType}),T}if(isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return _(n,{code:g.invalid_date}),T}const r=new ce;let a;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(a=this._getOrReturnCtx(e,a),_(a,{code:g.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(a=this._getOrReturnCtx(e,a),_(a,{code:g.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):M.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:N.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:N.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}yt.create=s=>new yt({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:V.ZodDate,...A(s)});class us extends P{_parse(e){if(this._getType(e)!==j.symbol){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:j.symbol,received:r.parsedType}),T}return me(e.data)}}us.create=s=>new us({typeName:V.ZodSymbol,...A(s)});class Dt extends P{_parse(e){if(this._getType(e)!==j.undefined){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:j.undefined,received:r.parsedType}),T}return me(e.data)}}Dt.create=s=>new Dt({typeName:V.ZodUndefined,...A(s)});class Ft extends P{_parse(e){if(this._getType(e)!==j.null){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:j.null,received:r.parsedType}),T}return me(e.data)}}Ft.create=s=>new Ft({typeName:V.ZodNull,...A(s)});class fs extends P{constructor(){super(...arguments),this._any=!0}_parse(e){return me(e.data)}}fs.create=s=>new fs({typeName:V.ZodAny,...A(s)});class tt extends P{constructor(){super(...arguments),this._unknown=!0}_parse(e){return me(e.data)}}tt.create=s=>new tt({typeName:V.ZodUnknown,...A(s)});class De extends P{_parse(e){const t=this._getOrReturnCtx(e);return _(t,{code:g.invalid_type,expected:j.never,received:t.parsedType}),T}}De.create=s=>new De({typeName:V.ZodNever,...A(s)});class hs extends P{_parse(e){if(this._getType(e)!==j.undefined){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:j.void,received:r.parsedType}),T}return me(e.data)}}hs.create=s=>new hs({typeName:V.ZodVoid,...A(s)});class je extends P{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==j.array)return _(t,{code:g.invalid_type,expected:j.array,received:t.parsedType}),T;if(a.exactLength!==null){const l=t.data.length>a.exactLength.value,o=t.data.length<a.exactLength.value;(l||o)&&(_(t,{code:l?g.too_big:g.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(_(t,{code:g.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(_(t,{code:g.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((l,o)=>a.type._parseAsync(new ke(t,l,t.path,o)))).then(l=>ce.mergeArray(r,l));const n=[...t.data].map((l,o)=>a.type._parseSync(new ke(t,l,t.path,o)));return ce.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new je({...this._def,minLength:{value:e,message:N.toString(t)}})}max(e,t){return new je({...this._def,maxLength:{value:e,message:N.toString(t)}})}length(e,t){return new je({...this._def,exactLength:{value:e,message:N.toString(t)}})}nonempty(e){return this.min(1,e)}}je.create=(s,e)=>new je({type:s,minLength:null,maxLength:null,exactLength:null,typeName:V.ZodArray,...A(e)});function et(s){if(s instanceof W){const e={};for(const t in s.shape){const r=s.shape[t];e[t]=Ee.create(et(r))}return new W({...s._def,shape:()=>e})}else return s instanceof je?new je({...s._def,type:et(s.element)}):s instanceof Ee?Ee.create(et(s.unwrap())):s instanceof Xe?Xe.create(et(s.unwrap())):s instanceof Oe?Oe.create(s.items.map(e=>et(e))):s}class W extends P{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=M.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==j.object){const f=this._getOrReturnCtx(e);return _(f,{code:g.invalid_type,expected:j.object,received:f.parsedType}),T}const{status:r,ctx:a}=this._processInputParams(e),{shape:n,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof De&&this._def.unknownKeys==="strip"))for(const f in a.data)l.includes(f)||o.push(f);const h=[];for(const f of l){const m=n[f],w=a.data[f];h.push({key:{status:"valid",value:f},value:m._parse(new ke(a,w,a.path,f)),alwaysSet:f in a.data})}if(this._def.catchall instanceof De){const f=this._def.unknownKeys;if(f==="passthrough")for(const m of o)h.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(f==="strict")o.length>0&&(_(a,{code:g.unrecognized_keys,keys:o}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const m of o){const w=a.data[m];h.push({key:{status:"valid",value:m},value:f._parse(new ke(a,w,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const f=[];for(const m of h){const w=await m.key,E=await m.value;f.push({key:w,value:E,alwaysSet:m.alwaysSet})}return f}).then(f=>ce.mergeObjectSync(r,f)):ce.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return N.errToObj,new W({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,n,l,o;const h=(l=(n=(a=this._def).errorMap)===null||n===void 0?void 0:n.call(a,t,r).message)!==null&&l!==void 0?l:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=N.errToObj(e).message)!==null&&o!==void 0?o:h}:{message:h}}}:{}})}strip(){return new W({...this._def,unknownKeys:"strip"})}passthrough(){return new W({...this._def,unknownKeys:"passthrough"})}extend(e){return new W({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new W({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:V.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new W({...this._def,catchall:e})}pick(e){const t={};return M.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new W({...this._def,shape:()=>t})}omit(e){const t={};return M.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new W({...this._def,shape:()=>t})}deepPartial(){return et(this)}partial(e){const t={};return M.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}),new W({...this._def,shape:()=>t})}required(e){const t={};return M.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let n=this.shape[r];for(;n instanceof Ee;)n=n._def.innerType;t[r]=n}}),new W({...this._def,shape:()=>t})}keyof(){return yr(M.objectKeys(this.shape))}}W.create=(s,e)=>new W({shape:()=>s,unknownKeys:"strip",catchall:De.create(),typeName:V.ZodObject,...A(e)});W.strictCreate=(s,e)=>new W({shape:()=>s,unknownKeys:"strict",catchall:De.create(),typeName:V.ZodObject,...A(e)});W.lazycreate=(s,e)=>new W({shape:s,unknownKeys:"strip",catchall:De.create(),typeName:V.ZodObject,...A(e)});class Mt extends P{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function a(n){for(const o of n)if(o.result.status==="valid")return o.result;for(const o of n)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const l=n.map(o=>new ye(o.ctx.common.issues));return _(t,{code:g.invalid_union,unionErrors:l}),T}if(t.common.async)return Promise.all(r.map(async n=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await n._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(a);{let n;const l=[];for(const h of r){const f={...t,common:{...t.common,issues:[]},parent:null},m=h._parseSync({data:t.data,path:t.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!n&&(n={result:m,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(n)return t.common.issues.push(...n.ctx.common.issues),n.result;const o=l.map(h=>new ye(h));return _(t,{code:g.invalid_union,unionErrors:o}),T}}get options(){return this._def.options}}Mt.create=(s,e)=>new Mt({options:s,typeName:V.ZodUnion,...A(e)});const Ve=s=>s instanceof Zt?Ve(s.schema):s instanceof Re?Ve(s.innerType()):s instanceof $t?[s.value]:s instanceof Je?s.options:s instanceof Ut?M.objectValues(s.enum):s instanceof zt?Ve(s._def.innerType):s instanceof Dt?[void 0]:s instanceof Ft?[null]:s instanceof Ee?[void 0,...Ve(s.unwrap())]:s instanceof Xe?[null,...Ve(s.unwrap())]:s instanceof vr||s instanceof qt?Ve(s.unwrap()):s instanceof Wt?Ve(s._def.innerType):[];class ks extends P{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==j.object)return _(t,{code:g.invalid_type,expected:j.object,received:t.parsedType}),T;const r=this.discriminator,a=t.data[r],n=this.optionsMap.get(a);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(_(t,{code:g.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),T)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const a=new Map;for(const n of t){const l=Ve(n.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of l){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,n)}}return new ks({typeName:V.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...A(r)})}}function ms(s,e){const t=He(s),r=He(e);if(s===e)return{valid:!0,data:s};if(t===j.object&&r===j.object){const a=M.objectKeys(e),n=M.objectKeys(s).filter(o=>a.indexOf(o)!==-1),l={...s,...e};for(const o of n){const h=ms(s[o],e[o]);if(!h.valid)return{valid:!1};l[o]=h.data}return{valid:!0,data:l}}else if(t===j.array&&r===j.array){if(s.length!==e.length)return{valid:!1};const a=[];for(let n=0;n<s.length;n++){const l=s[n],o=e[n],h=ms(l,o);if(!h.valid)return{valid:!1};a.push(h.data)}return{valid:!0,data:a}}else return t===j.date&&r===j.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Bt extends P{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=(n,l)=>{if(Ms(n)||Ms(l))return T;const o=ms(n.value,l.value);return o.valid?((Bs(n)||Bs(l))&&t.dirty(),{status:t.value,value:o.data}):(_(r,{code:g.invalid_intersection_types}),T)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([n,l])=>a(n,l)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Bt.create=(s,e,t)=>new Bt({left:s,right:e,typeName:V.ZodIntersection,...A(t)});class Oe extends P{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.array)return _(r,{code:g.invalid_type,expected:j.array,received:r.parsedType}),T;if(r.data.length<this._def.items.length)return _(r,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),T;!this._def.rest&&r.data.length>this._def.items.length&&(_(r,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map((l,o)=>{const h=this._def.items[o]||this._def.rest;return h?h._parse(new ke(r,l,r.path,o)):null}).filter(l=>!!l);return r.common.async?Promise.all(n).then(l=>ce.mergeArray(t,l)):ce.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Oe({...this._def,rest:e})}}Oe.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oe({items:s,typeName:V.ZodTuple,rest:null,...A(e)})};class Lt extends P{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.object)return _(r,{code:g.invalid_type,expected:j.object,received:r.parsedType}),T;const a=[],n=this._def.keyType,l=this._def.valueType;for(const o in r.data)a.push({key:n._parse(new ke(r,o,r.path,o)),value:l._parse(new ke(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?ce.mergeObjectAsync(t,a):ce.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof P?new Lt({keyType:e,valueType:t,typeName:V.ZodRecord,...A(r)}):new Lt({keyType:Ae.create(),valueType:e,typeName:V.ZodRecord,...A(t)})}}class ps extends P{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.map)return _(r,{code:g.invalid_type,expected:j.map,received:r.parsedType}),T;const a=this._def.keyType,n=this._def.valueType,l=[...r.data.entries()].map(([o,h],f)=>({key:a._parse(new ke(r,o,r.path,[f,"key"])),value:n._parse(new ke(r,h,r.path,[f,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const h of l){const f=await h.key,m=await h.value;if(f.status==="aborted"||m.status==="aborted")return T;(f.status==="dirty"||m.status==="dirty")&&t.dirty(),o.set(f.value,m.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const h of l){const f=h.key,m=h.value;if(f.status==="aborted"||m.status==="aborted")return T;(f.status==="dirty"||m.status==="dirty")&&t.dirty(),o.set(f.value,m.value)}return{status:t.value,value:o}}}}ps.create=(s,e,t)=>new ps({valueType:e,keyType:s,typeName:V.ZodMap,...A(t)});class at extends P{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.set)return _(r,{code:g.invalid_type,expected:j.set,received:r.parsedType}),T;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(_(r,{code:g.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(_(r,{code:g.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const n=this._def.valueType;function l(h){const f=new Set;for(const m of h){if(m.status==="aborted")return T;m.status==="dirty"&&t.dirty(),f.add(m.value)}return{status:t.value,value:f}}const o=[...r.data.values()].map((h,f)=>n._parse(new ke(r,h,r.path,f)));return r.common.async?Promise.all(o).then(h=>l(h)):l(o)}min(e,t){return new at({...this._def,minSize:{value:e,message:N.toString(t)}})}max(e,t){return new at({...this._def,maxSize:{value:e,message:N.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}at.create=(s,e)=>new at({valueType:s,minSize:null,maxSize:null,typeName:V.ZodSet,...A(e)});class mt extends P{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==j.function)return _(t,{code:g.invalid_type,expected:j.function,received:t.parsedType}),T;function r(o,h){return cs({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,os(),gt].filter(f=>!!f),issueData:{code:g.invalid_arguments,argumentsError:h}})}function a(o,h){return cs({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,os(),gt].filter(f=>!!f),issueData:{code:g.invalid_return_type,returnTypeError:h}})}const n={errorMap:t.common.contextualErrorMap},l=t.data;if(this._def.returns instanceof vt){const o=this;return me(async function(...h){const f=new ye([]),m=await o._def.args.parseAsync(h,n).catch(ee=>{throw f.addIssue(r(h,ee)),f}),w=await Reflect.apply(l,this,m);return await o._def.returns._def.type.parseAsync(w,n).catch(ee=>{throw f.addIssue(a(w,ee)),f})})}else{const o=this;return me(function(...h){const f=o._def.args.safeParse(h,n);if(!f.success)throw new ye([r(h,f.error)]);const m=Reflect.apply(l,this,f.data),w=o._def.returns.safeParse(m,n);if(!w.success)throw new ye([a(m,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new mt({...this._def,args:Oe.create(e).rest(tt.create())})}returns(e){return new mt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new mt({args:e||Oe.create([]).rest(tt.create()),returns:t||tt.create(),typeName:V.ZodFunction,...A(r)})}}class Zt extends P{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Zt.create=(s,e)=>new Zt({getter:s,typeName:V.ZodLazy,...A(e)});class $t extends P{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return _(t,{received:t.data,code:g.invalid_literal,expected:this._def.value}),T}return{status:"valid",value:e.data}}get value(){return this._def.value}}$t.create=(s,e)=>new $t({value:s,typeName:V.ZodLiteral,...A(e)});function yr(s,e){return new Je({values:s,typeName:V.ZodEnum,...A(e)})}class Je extends P{constructor(){super(...arguments),ct.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return _(t,{expected:M.joinValues(r),received:t.parsedType,code:g.invalid_type}),T}if(Pt(this,ct)||mr(this,ct,new Set(this._def.values)),!Pt(this,ct).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return _(t,{received:t.data,code:g.invalid_enum_value,options:r}),T}return me(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Je.create(e,{...this._def,...t})}exclude(e,t=this._def){return Je.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}ct=new WeakMap;Je.create=yr;class Ut extends P{constructor(){super(...arguments),dt.set(this,void 0)}_parse(e){const t=M.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==j.string&&r.parsedType!==j.number){const a=M.objectValues(t);return _(r,{expected:M.joinValues(a),received:r.parsedType,code:g.invalid_type}),T}if(Pt(this,dt)||mr(this,dt,new Set(M.getValidEnumValues(this._def.values))),!Pt(this,dt).has(e.data)){const a=M.objectValues(t);return _(r,{received:r.data,code:g.invalid_enum_value,options:a}),T}return me(e.data)}get enum(){return this._def.values}}dt=new WeakMap;Ut.create=(s,e)=>new Ut({values:s,typeName:V.ZodNativeEnum,...A(e)});class vt extends P{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==j.promise&&t.common.async===!1)return _(t,{code:g.invalid_type,expected:j.promise,received:t.parsedType}),T;const r=t.parsedType===j.promise?t.data:Promise.resolve(t.data);return me(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}vt.create=(s,e)=>new vt({type:s,typeName:V.ZodPromise,...A(e)});class Re extends P{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===V.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,n={addIssue:l=>{_(r,l),l.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),a.type==="preprocess"){const l=a.transform(r.data,n);if(r.common.async)return Promise.resolve(l).then(async o=>{if(t.value==="aborted")return T;const h=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return h.status==="aborted"?T:h.status==="dirty"||t.value==="dirty"?ot(h.value):h});{if(t.value==="aborted")return T;const o=this._def.schema._parseSync({data:l,path:r.path,parent:r});return o.status==="aborted"?T:o.status==="dirty"||t.value==="dirty"?ot(o.value):o}}if(a.type==="refinement"){const l=o=>{const h=a.refinement(o,n);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?T:(o.status==="dirty"&&t.dirty(),l(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?T:(o.status==="dirty"&&t.dirty(),l(o.value).then(()=>({status:t.value,value:o.value}))))}if(a.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Rt(l))return l;const o=a.transform(l.value,n);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Rt(l)?Promise.resolve(a.transform(l.value,n)).then(o=>({status:t.value,value:o})):l);M.assertNever(a)}}Re.create=(s,e,t)=>new Re({schema:s,typeName:V.ZodEffects,effect:e,...A(t)});Re.createWithPreprocess=(s,e,t)=>new Re({schema:e,effect:{type:"preprocess",transform:s},typeName:V.ZodEffects,...A(t)});class Ee extends P{_parse(e){return this._getType(e)===j.undefined?me(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ee.create=(s,e)=>new Ee({innerType:s,typeName:V.ZodOptional,...A(e)});class Xe extends P{_parse(e){return this._getType(e)===j.null?me(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xe.create=(s,e)=>new Xe({innerType:s,typeName:V.ZodNullable,...A(e)});class zt extends P{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===j.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}zt.create=(s,e)=>new zt({innerType:s,typeName:V.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...A(e)});class Wt extends P{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return It(a)?a.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ye(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ye(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Wt.create=(s,e)=>new Wt({innerType:s,typeName:V.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...A(e)});class gs extends P{_parse(e){if(this._getType(e)!==j.nan){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:j.nan,received:r.parsedType}),T}return{status:"valid",value:e.data}}}gs.create=s=>new gs({typeName:V.ZodNaN,...A(s)});class vr extends P{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Jt extends P{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?T:n.status==="dirty"?(t.dirty(),ot(n.value)):this._def.out._parseAsync({data:n.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?T:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,t){return new Jt({in:e,out:t,typeName:V.ZodPipeline})}}class qt extends P{_parse(e){const t=this._def.innerType._parse(e),r=a=>(Rt(a)&&(a.value=Object.freeze(a.value)),a);return It(t)?t.then(a=>r(a)):r(t)}unwrap(){return this._def.innerType}}qt.create=(s,e)=>new qt({innerType:s,typeName:V.ZodReadonly,...A(e)});W.lazycreate;var V;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(V||(V={}));const ie=Ae.create;st.create;gs.create;rt.create;ds.create;yt.create;us.create;Dt.create;Ft.create;fs.create;tt.create;De.create;hs.create;je.create;const wa=W.create;W.strictCreate;Mt.create;ks.create;Bt.create;Oe.create;Lt.create;ps.create;at.create;mt.create;Zt.create;$t.create;Je.create;Ut.create;vt.create;Re.create;Ee.create;Xe.create;Re.createWithPreprocess;Jt.create;const Na=Lr,xr=$.createContext({}),le=({...s})=>i.jsx(xr.Provider,{value:{name:s.name},children:i.jsx(zr,{...s})}),Xt=()=>{const s=$.useContext(xr),e=$.useContext(_r),{getFieldState:t,formState:r}=Yt(),a=t(s.name,r);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:n}=e;return{id:n,name:s.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...a}},_r=$.createContext({}),se=$.forwardRef(({className:s,...e},t)=>{const r=$.useId();return i.jsx(_r.Provider,{value:{id:r},children:i.jsx("div",{ref:t,className:Gt("space-y-2",s),...e})})});se.displayName="FormItem";const te=$.forwardRef(({className:s,...e},t)=>{const{error:r,formItemId:a}=Xt();return i.jsx(wr,{ref:t,className:Gt(r&&"text-destructive",s),htmlFor:a,...e})});te.displayName="FormLabel";const re=$.forwardRef(({...s},e)=>{const{error:t,formItemId:r,formDescriptionId:a,formMessageId:n}=Xt();return i.jsx(Nr,{ref:e,id:r,"aria-describedby":t?`${a} ${n}`:`${a}`,"aria-invalid":!!t,...s})});re.displayName="FormControl";const ut=$.forwardRef(({className:s,...e},t)=>{const{formDescriptionId:r}=Xt();return i.jsx("p",{ref:t,id:r,className:Gt("text-sm text-muted-foreground",s),...e})});ut.displayName="FormDescription";const ae=$.forwardRef(({className:s,children:e,...t},r)=>{const{error:a,formMessageId:n}=Xt(),l=a?String(a==null?void 0:a.message):e;return l?i.jsx("p",{ref:r,id:n,className:Gt("text-sm font-medium text-destructive",s),...t,children:l}):null});ae.displayName="FormMessage";function Sa({open:s,onOpenChange:e,appointmentDetails:t,onBookAgain:r,onChangeSchedule:a}){if(!t)return null;const n=o=>{if(o.startsWith("reptile:")){const h=o.substring(8);return`${h.charAt(0).toUpperCase()+h.slice(1)} (Reptile)`}return o.startsWith("other:")?o.substring(6):o.charAt(0).toUpperCase()+o.slice(1)},l=o=>new Date(o).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return i.jsx($s,{open:s,onOpenChange:e,children:i.jsxs(Us,{className:"sm:max-w-md",children:[i.jsxs(zs,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:i.jsx(Ce,{className:"h-6 w-6 text-green-600"})}),i.jsx(Ws,{className:"text-xl font-semibold text-center",children:"Booking Successful!"}),i.jsx(qs,{className:"text-center",children:"Your appointment has been successfully booked. A confirmation email has been sent to your email address."}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 p-3 bg-blue-50 rounded-lg",children:[i.jsx(Sr,{className:"h-4 w-4 text-blue-600"}),i.jsxs("span",{className:"text-sm text-blue-700 font-medium",children:["Email confirmation sent to ",t==null?void 0:t.email]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-3",children:[i.jsx("h4",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-3",children:"Appointment Details"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vt,{className:"h-4 w-4 text-pet-blue-dark"}),i.jsx("span",{className:"font-medium",children:"Pet:"}),i.jsxs("span",{children:[t.petName," (",n(t.petSpecies),")"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Js,{className:"h-4 w-4 text-pet-blue-dark"}),i.jsx("span",{className:"font-medium",children:"Owner:"}),i.jsx("span",{children:t.ownerName})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ct,{className:"h-4 w-4 text-pet-blue-dark"}),i.jsx("span",{className:"font-medium",children:"Service:"}),i.jsx("span",{children:t.service})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(is,{className:"h-4 w-4 text-pet-blue-dark"}),i.jsx("span",{className:"font-medium",children:"Date:"}),i.jsx("span",{children:l(t.date)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ys,{className:"h-4 w-4 text-pet-blue-dark"}),i.jsx("span",{className:"font-medium",children:"Time:"}),i.jsx("span",{children:t.timeSlot})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ct,{className:"h-4 w-4 text-pet-blue-dark mt-0.5"}),i.jsx("span",{className:"font-medium",children:"Reason:"}),i.jsx("span",{className:"break-words",children:t.diagnosis})]})]})]}),i.jsxs("div",{className:"text-xs text-gray-600 text-center bg-green-50 p-2 rounded",children:[i.jsx("span",{className:"font-medium",children:" Email Sent!"})," A detailed confirmation email has been sent to ",t.email]})]}),i.jsxs(Gs,{className:"flex-col sm:flex-row gap-2",children:[i.jsx(pt,{variant:"outline",onClick:a,className:"w-full sm:w-auto",children:"Change Schedule"}),i.jsx(pt,{onClick:r,className:"w-full sm:w-auto bg-pet-blue-dark hover:bg-pet-blue-dark/90",children:"Book Again"})]})]})})}function Ca({open:s,onOpenChange:e,appointmentData:t,onConfirm:r,onEdit:a}){if(!t)return null;const n=f=>{if(f.startsWith("reptile:")){const m=f.substring(8);return`${m.charAt(0).toUpperCase()+m.slice(1)} (Reptile)`}return f.startsWith("other:")?f.substring(6):f.charAt(0).toUpperCase()+f.slice(1)},l=f=>new Date(f).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=f=>!f||f==="none"?"No blood test":{basic:"Basic Blood Chemistry - 1,200",complete:"Complete Blood Chemistry - 2,500"}[f]||f,h=f=>({"General Consultation":"1,500",Vaccination:"800","Pet Grooming":"2,000","Dental Care":"2,500",Surgery:"8,000","Emergency Care":"3,000"})[f]||"";return i.jsx($s,{open:s,onOpenChange:e,children:i.jsxs(Us,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(zs,{children:[i.jsx(Ws,{className:"text-xl font-semibold text-center",children:"Confirm Your Appointment"}),i.jsx(qs,{className:"text-center",children:"Please review your appointment details before confirming"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(Vt,{className:"h-4 w-4"}),"Pet Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",t.petName]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Species:"})," ",n(t.petSpecies)]}),t.breed&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Breed:"})," ",t.breed]})]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(Js,{className:"h-4 w-4"}),"Owner Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",t.ownerName]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Email:"})," ",t.email]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("span",{className:"font-medium",children:"Phone:"})," ",t.phone]})]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-medium text-sm text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(is,{className:"h-4 w-4"}),"Appointment Details"]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ct,{className:"h-4 w-4 text-pet-blue-dark"}),i.jsx("span",{className:"font-medium",children:"Service:"}),i.jsxs("span",{children:[t.service," ",h(t.service)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(is,{className:"h-4 w-4 text-pet-blue-dark"}),i.jsx("span",{className:"font-medium",children:"Date:"}),i.jsx("span",{children:l(t.date)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ys,{className:"h-4 w-4 text-pet-blue-dark"}),i.jsx("span",{className:"font-medium",children:"Time:"}),i.jsx("span",{children:t.timeSlot})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ct,{className:"h-4 w-4 text-pet-blue-dark mt-0.5"}),i.jsx("span",{className:"font-medium",children:"Reason:"}),i.jsx("span",{className:"break-words",children:t.diagnosis})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"h-4 w-4 text-pet-blue-dark"}),i.jsx("span",{className:"font-medium",children:"Blood Test:"}),i.jsx("span",{children:o(t.bloodTest)})]}),t.additionalInfo&&i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"font-medium",children:"Additional Info:"}),i.jsx("span",{className:"break-words",children:t.additionalInfo})]})]})]})]}),i.jsxs(Gs,{className:"flex-col sm:flex-row gap-2",children:[i.jsx(pt,{variant:"outline",onClick:a,className:"w-full sm:w-auto",children:"Edit Details"}),i.jsx(pt,{onClick:r,className:"w-full sm:w-auto bg-pet-blue-dark hover:bg-pet-blue-dark/90",children:"Confirm Appointment"})]})]})})}const Va=wa({petName:ie().min(1,"Pet name is required"),petSpecies:ie().min(1,"Pet species is required"),reptileType:ie().optional(),otherSpecies:ie().optional(),breed:ie().optional(),breedOther:ie().optional(),weight:ie().optional(),ownerName:ie().min(1,"Owner name is required"),email:ie().email("Invalid email address").min(1,"Email is required"),phone:ie().min(1,"Phone number is required"),service:ie().min(1,"Please select a service"),date:ie().min(1,"Please select a date"),timeSlot:ie().min(1,"Please select a time slot"),bloodTest:ie().optional(),additionalInfo:ie().optional()});function Ta(){const{toast:s}=Hs(),{user:e,getUserPets:t}=Ys(),[r,a]=$.useState([]),[n,l]=$.useState(!1),[o,h]=$.useState(!1),[f,m]=$.useState(!1),[w,E]=$.useState(!1),[ee,Y]=$.useState(!0),[nt,de]=$.useState(!1),[_e,D]=$.useState(!1),[U,ve]=$.useState(null),[C,we]=$.useState(null),Qe=Cr(),Ne=[{value:"dog",label:"Dog"},{value:"cat",label:"Cat"},{value:"bird",label:"Bird"},{value:"rabbit",label:"Rabbit"},{value:"reptile",label:"Reptile"},{value:"other",label:"Other"}],k=sa({resolver:ia(Va),defaultValues:{ownerName:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||""}});F.useEffect(()=>{e&&(l(!0),(async()=>{try{const p=await t();a(p||[])}catch{a([])}finally{l(!1)}})())},[e,t]),F.useEffect(()=>{e&&(k.setValue("ownerName",e.name||""),k.setValue("email",e.email||""),k.setValue("phone",e.phone||""))},[e,k]);const z=k.watch("petSpecies");k.watch("reptileType");const Fe=k.watch("breed");F.useEffect(()=>{h(z==="reptile"),m(z==="other"),Y(z!=="reptile"),z!=="reptile"&&k.setValue("reptileType",""),z!=="other"&&k.setValue("otherSpecies",""),k.setValue("breed",""),E(!1)},[z,k]),F.useEffect(()=>{Fe==="Other"?E(!0):(E(!1),k.setValue("breedOther",""))},[Fe,k]);const R=p=>{var ne,Ze;if(p==="none"){k.reset({...k.getValues(),petName:"",petSpecies:"",reptileType:"",otherSpecies:"",breed:"",breedOther:"",weight:""});return}const O=r.find($e=>$e.id===p);if(O){if(k.setValue("petName",O.name),(ne=O.species)!=null&&ne.startsWith("reptile:")){k.setValue("petSpecies","reptile",{shouldValidate:!0});const $e=O.species.substring(8);setTimeout(()=>{k.setValue("reptileType",$e,{shouldValidate:!0})},100)}else(Ze=O.species)!=null&&Ze.startsWith("other:")?(k.setValue("petSpecies","other",{shouldValidate:!0}),setTimeout(()=>{k.setValue("otherSpecies",O.species.substring(6),{shouldValidate:!0})},100)):k.setValue("petSpecies",O.type||O.species,{shouldValidate:!0});if(O.breed){const $e=O.type||O.species,wt=kt($e).find(Nt=>Nt.toLowerCase()===O.breed.toLowerCase());setTimeout(wt?()=>{k.setValue("breed",wt,{shouldValidate:!0})}:()=>{k.setValue("breed","Other",{shouldValidate:!0}),k.setValue("breedOther",O.breed,{shouldValidate:!0})},100)}O.weight&&setTimeout(()=>{k.setValue("weight",O.weight,{shouldValidate:!0})},100),k.trigger(["petSpecies","reptileType","otherSpecies","breed","weight"]),s({title:"Pet information filled",description:`Information for ${O.name} has been added to the form.`})}},B=async p=>{try{let O=p.petSpecies;p.petSpecies==="reptile"&&p.reptileType?O=`reptile:${p.reptileType}`:p.petSpecies==="other"&&p.otherSpecies&&(O=`other:${p.otherSpecies}`);let ne=p.breed||"";p.breed==="Other"&&p.breedOther&&(ne=p.breedOther);const Ze={petName:p.petName,petSpecies:O,breed:ne||"",weight:p.weight||"",ownerName:p.ownerName,email:p.email,phone:p.phone,service:p.service,date:p.date,timeSlot:p.timeSlot,bloodTest:p.bloodTest||"",additionalInfo:p.additionalInfo||"",petAge:"",petGender:"",status:"Pending"};we(Ze),de(!0)}catch{s({title:"Error",description:"Failed to prepare appointment. Please try again.",variant:"destructive"})}},G=async()=>{if(C){if(!(e!=null&&e.id)){s({title:"Not signed in",description:"Please log in to book an appointment.",variant:"destructive"});return}try{let p=null,O=!1;try{console.log(" Attempting to save to Supabase database..."),p=await Pr({owner_id:e.id,pet_name:C.petName,pet_species:C.petSpecies,owner_name:C.ownerName,email:C.email,phone:C.phone,service:C.service,appointment_date:C.date,time_slot:C.timeSlot,additional_info:C.additionalInfo,blood_test:C.bloodTest}),O=!0,console.log(" Successfully saved to Supabase database")}catch(ne){console.warn(" Supabase save failed, falling back to localStorage:",ne),s({title:"Database save failed",description:(ne==null?void 0:ne.message)||"Falling back to local storage.",variant:"destructive"}),p={petName:C.petName,petSpecies:C.petSpecies,ownerName:C.ownerName,email:C.email,phone:C.phone,service:C.service,date:C.date,timeSlot:C.timeSlot,additionalInfo:C.additionalInfo,bloodTest:C.bloodTest},console.log(" Successfully saved to localStorage as fallback")}if(p)ve({petName:C.petName,petSpecies:C.petSpecies,ownerName:C.ownerName,email:C.email,phone:C.phone,service:C.service,date:C.date,timeSlot:C.timeSlot}),de(!1),D(!0),k.reset(),we(null),s({title:"Appointment Booked Successfully!",description:`Your appointment has been saved to ${O?"database":"local storage"} and a confirmation email has been sent.`});else throw new Error("No appointment data returned from save operation")}catch(p){console.error(" Failed to save appointment:",p),s({title:"Error",description:"Failed to book appointment. Please try again or contact support.",variant:"destructive"})}}},X=()=>{de(!1)},pe=()=>{D(!1)},ue=()=>{D(!1),U&&(k.setValue("petName",U.petName),k.setValue("ownerName",U.ownerName),k.setValue("email",U.email),k.setValue("phone",U.phone),k.setValue("service",U.service),U.petSpecies.startsWith("reptile:")?(k.setValue("petSpecies","reptile"),k.setValue("reptileType",U.petSpecies.substring(8))):U.petSpecies.startsWith("other:")?(k.setValue("petSpecies","other"),k.setValue("otherSpecies",U.petSpecies.substring(6))):k.setValue("petSpecies",U.petSpecies),k.setValue("date",""),k.setValue("timeSlot","")),Qe("/appointment")},Me=["9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM"],Be=["Golden Retriever","Labrador Retriever","German Shepherd","Bulldog","Poodle","Beagle","Rottweiler","Yorkshire Terrier","Dachshund","Siberian Husky","Boxer","Border Collie","Chihuahua","Shih Tzu","Mixed Breed","Other"],Le=["Persian","Maine Coon","Siamese","Ragdoll","British Shorthair","Abyssinian","Birman","Oriental Shorthair","American Shorthair","Scottish Fold","Sphynx","Russian Blue","Mixed Breed","Other"],_t=["Budgerigar","Cockatiel","Cockatoo","African Grey","Macaw","Parakeet","Canary","Finch","Lovebird","Conure","Mixed Breed","Other"],bt=["Netherland Dwarf","Holland Lop","Mini Rex","Lionhead","Angora","Flemish Giant","Rex","Mini Lop","English Lop","French Lop","Mixed Breed","Other"],Qt=["Bearded Dragon","Leopard Gecko","Ball Python","Corn Snake","Iguana","Chameleon","Turtle","Tortoise","Monitor Lizard","Boa","Mixed Breed","Other"],jt=["Hamster","Guinea Pig","Ferret","Chinchilla","Hedgehog","Sugar Glider","Rat","Mouse","Gerbil","Hamster","Mixed Breed","Other"],kt=p=>{switch(p){case"dog":return Be;case"cat":return Le;case"bird":return _t;case"rabbit":return bt;case"reptile":return Qt;case"other":return jt;default:return[]}};return i.jsxs(i.Fragment,{children:[i.jsxs(Vr,{className:"w-full",children:[i.jsxs(Tr,{children:[i.jsxs(Ar,{className:"flex items-center gap-2",children:[i.jsx(Vt,{className:"h-5 w-5 text-pet-blue-dark"}),"Book an Appointment"]}),i.jsx(Er,{children:"Fill out the form below to schedule a visit for your pet"})]}),i.jsx(Or,{children:i.jsx(Na,{...k,children:i.jsxs("form",{onSubmit:k.handleSubmit(B),className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[i.jsx(Vt,{size:18}),"Pet Information"]}),i.jsxs("div",{className:"p-4 bg-muted rounded-lg border-2 border-dashed border-muted-foreground/20",children:[i.jsx(te,{className:"text-sm font-medium mb-2 block",children:"Quick Fill from Your Pets"}),n?i.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading your pets..."}):r.length>0?i.jsxs(i.Fragment,{children:[i.jsxs(ze,{onValueChange:R,children:[i.jsx(We,{children:i.jsx(qe,{placeholder:"Choose one of your registered pets to autofill"})}),i.jsxs(Ge,{children:[i.jsx(Z,{value:"none",children:"Manual entry (clear selection)"}),r.map(p=>i.jsxs(Z,{value:p.id,children:[p.name," (",p.species||p.type,p.breed&&`, ${p.breed}`,p.weight&&`, ${p.weight}`,")"]},p.id))]})]}),i.jsxs(ut,{className:"mt-1",children:["You have ",r.length," registered pet",r.length!==1?"s":"",". Select one to automatically fill the form below with their details."]})]}):i.jsx("div",{className:"text-sm text-muted-foreground",children:"You don't have any registered pets yet. You can register your pets for auto fill next time."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(le,{control:k.control,name:"petName",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Pet Name"}),i.jsx(re,{children:i.jsx(Ie,{placeholder:"Enter your pet's name",...p})}),i.jsx(ae,{})]})}),i.jsx(le,{control:k.control,name:"petSpecies",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Pet Species"}),i.jsx(re,{children:i.jsxs(ze,{onValueChange:O=>{p.onChange(O)},value:p.value,defaultValue:p.value,children:[i.jsx(We,{children:i.jsx(qe,{placeholder:"Select pet species"})}),i.jsx(Ge,{children:Ne.map(O=>i.jsx(Z,{value:O.value,children:O.label},O.value))})]})}),i.jsx(ae,{})]})})]}),o&&i.jsx(le,{control:k.control,name:"reptileType",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Type of Reptile"}),i.jsxs(ze,{onValueChange:p.onChange,value:p.value,defaultValue:p.value,children:[i.jsx(re,{children:i.jsx(We,{children:i.jsx(qe,{placeholder:"Select reptile type"})})}),i.jsxs(Ge,{children:[i.jsx(Z,{value:"lizard",children:"Lizard"}),i.jsx(Z,{value:"iguana",children:"Iguana"}),i.jsx(Z,{value:"turtle",children:"Turtle"}),i.jsx(Z,{value:"chameleon",children:"Chameleon"})]})]}),i.jsx(ae,{})]})}),f&&i.jsx(le,{control:k.control,name:"otherSpecies",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Please specify the type of pet"}),i.jsx(re,{children:i.jsx(Ie,{placeholder:"e.g., Ferret, Guinea Pig, etc.",...p})}),i.jsx(ae,{})]})}),ee&&i.jsx(le,{control:k.control,name:"breed",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Breed"}),i.jsxs(ze,{onValueChange:p.onChange,value:p.value,defaultValue:p.value,children:[i.jsx(re,{children:i.jsx(We,{children:i.jsx(qe,{placeholder:"Select breed"})})}),i.jsx(Ge,{children:z&&kt(z).map(O=>i.jsx(Z,{value:O,children:O},O))})]}),i.jsx(ae,{})]})}),w&&i.jsx(le,{control:k.control,name:"breedOther",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Please specify the breed"}),i.jsx(re,{children:i.jsx(Ie,{placeholder:"Enter the specific breed name",...p})}),i.jsx(ae,{})]})}),i.jsx(le,{control:k.control,name:"weight",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Weight (Optional)"}),i.jsx(re,{children:i.jsx(Ie,{placeholder:"Enter weight (e.g., 5 kg, 10 lbs)",...p})}),i.jsx(ut,{children:"Helpful for medication dosing and health assessment"}),i.jsx(ae,{})]})}),i.jsx(le,{control:k.control,name:"bloodTest",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Blood Chemistry Test (Optional)"}),i.jsxs(ze,{onValueChange:p.onChange,value:p.value,defaultValue:p.value,children:[i.jsx(re,{children:i.jsx(We,{children:i.jsx(qe,{placeholder:"Select blood test type"})})}),i.jsxs(Ge,{children:[i.jsx(Z,{value:"none",children:"No blood test needed"}),i.jsx(Z,{value:"basic",children:"Basic Blood Chemistry - 1,200"}),i.jsx(Z,{value:"complete",children:"Complete Blood Chemistry - 2,500"})]})]}),i.jsx(ut,{children:"Blood tests help assess your pet's overall health and organ function"}),i.jsx(ae,{})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Owner Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(le,{control:k.control,name:"ownerName",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Owner Name"}),i.jsx(re,{children:i.jsx(Ie,{placeholder:"Enter your name",...p})}),i.jsx(ae,{})]})}),i.jsx(le,{control:k.control,name:"email",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Email"}),i.jsx(re,{children:i.jsx(Ie,{type:"email",placeholder:"Enter your email",...p})}),i.jsx(ae,{})]})})]}),i.jsx(le,{control:k.control,name:"phone",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Phone Number"}),i.jsx(re,{children:i.jsx(Ie,{placeholder:"Enter your phone number",...p})}),i.jsx(ae,{})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[i.jsx(Dr,{size:18}),"Appointment Details"]}),i.jsx(le,{control:k.control,name:"service",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Service"}),i.jsxs(ze,{onValueChange:p.onChange,value:p.value,defaultValue:p.value,children:[i.jsx(re,{children:i.jsx(We,{children:i.jsx(qe,{placeholder:"Select a service"})})}),i.jsxs(Ge,{children:[i.jsx(Z,{value:"General Consultation",children:"General Consultation"}),i.jsx(Z,{value:"Vaccination",children:"Vaccination"}),i.jsx(Z,{value:"Pet Grooming",children:"Pet Grooming"}),i.jsx(Z,{value:"Dental Care",children:"Dental Care"}),i.jsx(Z,{value:"Surgery",children:"Surgery"}),i.jsx(Z,{value:"Emergency Care",children:"Emergency Care"}),i.jsx(Z,{value:"Hematology",children:"Hematology"}),i.jsx(Z,{value:"Pharmacy Services",children:"Pharmacy Services"}),i.jsx(Z,{value:"Digital X-Ray",children:"Digital X-Ray"}),i.jsx(Z,{value:"Blood Chemistry",children:"Blood Chemistry"}),i.jsx(Z,{value:"Tonometry",children:"Tonometry"}),i.jsx(Z,{value:"Surgery with Gas Anesthetic Machine",children:"Surgery with Gas Anesthetic Machine"})]})]}),i.jsx(ae,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(le,{control:k.control,name:"date",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Preferred Date"}),i.jsx(re,{children:i.jsx(Ie,{type:"date",...p})}),i.jsx(ae,{})]})}),i.jsx(le,{control:k.control,name:"timeSlot",render:({field:p})=>i.jsxs(se,{children:[i.jsxs(te,{className:"flex items-center gap-2",children:[i.jsx(ys,{size:16}),"Preferred Time"]}),i.jsxs(ze,{onValueChange:p.onChange,value:p.value,defaultValue:p.value,children:[i.jsx(re,{children:i.jsx(We,{children:i.jsx(qe,{placeholder:"Select time slot"})})}),i.jsx(Ge,{children:Me.map(O=>i.jsx(Z,{value:O,children:O},O))})]}),i.jsx(ae,{})]})})]}),i.jsx(le,{control:k.control,name:"additionalInfo",render:({field:p})=>i.jsxs(se,{children:[i.jsx(te,{children:"Additional Information"}),i.jsx(re,{children:i.jsx(Rr,{placeholder:"Any additional information about your pet's condition or special requirements...",...p})}),i.jsx(ut,{children:"Optional: Provide any additional details that might help us prepare for your visit"}),i.jsx(ae,{})]})})]}),i.jsx(pt,{type:"submit",className:"w-full bg-pet-blue-dark hover:bg-pet-blue-dark/90",children:"Review Appointment"})]})})})]}),i.jsx(Ca,{open:nt,onOpenChange:de,appointmentData:C,onConfirm:G,onEdit:X}),i.jsx(Sa,{open:_e,onOpenChange:D,appointmentDetails:U,onBookAgain:pe,onChangeSchedule:ue})]})}const La=()=>{const[s,e]=$.useState(""),[t,r]=$.useState([]),[a,n]=$.useState(!1),{isAuthenticated:l,user:o}=Ys(),{toast:h}=Hs();$.useEffect(()=>{l&&(o!=null&&o.email)&&(e(o.email),f(o.email))},[l,o]);const f=(E=s)=>{E&&(n(!0),n(!1))},m=E=>{if(!E)return"";if(E.startsWith("reptile:"))switch(E.substring(8)){case"snake":return"";case"lizard":return"";case"turtle":return"";case"gecko":return"";case"iguana":return"";default:return""}if(E.startsWith("other:"))return"";switch(E){case"dog":return"";case"cat":return"";case"bird":return"";case"rabbit":return"";case"hamster":return"";case"reptile":return"";default:return""}},w=E=>{switch(E){case"Confirmed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}};return l?i.jsxs("div",{className:"min-h-screen pt-20",children:[i.jsx("section",{className:"bg-pet-gray py-16",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold mb-4",children:"Book an Appointment"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Schedule a visit for your pet with our comprehensive booking system. Get instant consultations and expert care."})]})})}),i.jsx("section",{className:"section-container",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2 space-y-8",children:i.jsx(Ta,{})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"card-glass p-6",children:i.jsx("div",{className:"space-y-4",children:t.length>0?i.jsxs("div",{className:"space-y-3",children:[t.slice(0,3).map(E=>i.jsx("div",{className:"p-3 border rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:[E.petName," ",m(E.petSpecies)," - ",E.service]}),i.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(E.date).toLocaleDateString()," at ",E.time||E.timeSlot]}),E.diagnosis&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Reason: ",E.diagnosis]})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(E.status)}`,children:E.status})]})},E.id)),t.length>3&&i.jsx("div",{className:"text-center mt-2",children:i.jsx("a",{href:"/my-appointments",className:"text-sm text-pet-blue-dark hover:underline",children:"View all appointments "})})]}):i.jsx("div",{className:"text-center mt-2"})})}),i.jsxs("div",{className:"card-glass p-6",children:[i.jsx("h3",{className:"text-xl font-medium mb-4",children:"Additional Services"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Besides appointments, we offer these additional services for your pet:"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-3 border rounded-lg bg-gradient-to-r from-blue-50 to-blue-100",children:[i.jsx("h4",{className:"font-medium",children:"Pet Grooming Packages"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Complete grooming services starting from 2,000"})]}),i.jsxs("div",{className:"p-3 border rounded-lg bg-gradient-to-r from-green-50 to-green-100",children:[i.jsx("h4",{className:"font-medium",children:"Pet Dental Care"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Professional teeth cleaning and oral care from 1,500"})]}),i.jsxs("div",{className:"p-3 border rounded-lg bg-gradient-to-r from-purple-50 to-purple-100",children:[i.jsx("h4",{className:"font-medium",children:"Pet Boarding"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Safe and comfortable boarding facilities from 800/night"})]})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("a",{href:"/services",className:"text-pet-blue-dark hover:underline text-sm",children:"Learn more about our services "})})]})]}),i.jsxs("div",{className:"card-glass p-6",children:[i.jsx("h3",{className:"text-xl font-medium mb-4",children:"Appointment Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Schedule an appointment for your pet's checkup, vaccination, grooming, or other services. Our team will confirm your appointment via email or phone."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ce,{className:"text-pet-blue-dark shrink-0 mt-0.5",size:18}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Confirmation:"})," You'll receive a confirmation email within 2 hours."]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ce,{className:"text-pet-blue-dark shrink-0 mt-0.5",size:18}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Reminders:"})," We'll send you a reminder 24 hours before your appointment."]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ce,{className:"text-pet-blue-dark shrink-0 mt-0.5",size:18}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Rescheduling:"})," Need to reschedule? Please give us at least 24 hours notice."]})]})]})]})]}),i.jsxs("div",{className:"card-glass p-6",children:[i.jsx("h3",{className:"text-xl font-medium mb-4",children:"Preparing for Your Visit"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"To ensure a smooth and effective appointment, please:"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Ce,{className:"text-pet-teal-dark shrink-0 mt-0.5",size:18}),i.jsx("span",{children:"Arrive 10-15 minutes before your scheduled time"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Ce,{className:"text-pet-teal-dark shrink-0 mt-0.5",size:18}),i.jsx("span",{children:"Bring any previous medical records if you're a new patient"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Ce,{className:"text-pet-teal-dark shrink-0 mt-0.5",size:18}),i.jsx("span",{children:"Keep dogs on leashes and cats in carriers"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Ce,{className:"text-pet-teal-dark shrink-0 mt-0.5",size:18}),i.jsx("span",{children:"Bring a list of questions or concerns you'd like to discuss"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Ce,{className:"text-pet-teal-dark shrink-0 mt-0.5",size:18}),i.jsx("span",{children:"For grooming appointments, let us know of any specific requests"})]})]})]})]})]})]})})]}):(h({title:"Authentication required",description:"Please login to book an appointment",variant:"destructive"}),i.jsx(Ir,{to:"/login",replace:!0}))};export{La as default};
